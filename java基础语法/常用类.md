# 字符串相关的常用类

## String 类

### String类的特性

![image-20210725150346493](images/image-20210725150346493.png)

- String类实习了Serializable 接口： 字符串是支持序列化的
- String类实习了Comparable接口：字符串是可以比较大小的
- String 代表**不可变**的字符串序列
  - 通过字面量的方式（区别于new方式，如：`String s1 = "abcds";`）给一个字符串赋值，此时的字符串值赋值在字符串常量池中。字符串常量池中不会存储相同内容的字符串。
  - 对字符串重新赋值、进行连接操作时，指定了新的内存区域赋值，不能在原有的value上进行赋值；

### String对象的实例化

```java
String str = "hello";

//本质上this.value = new char[0];
String s1 = new String(); 

//this.value = original.value;
String s2 = new String(String original); 

//this.value = Arrays.copyOf(value, value.length);
String s3 = new String(char[] a); 

String s4 = new String(char[] a,int startIndex,int count);
```

![image-20210725160526878](images/image-20210725160526878.png)

### 字符串不同拼接操作的对比

```java
@Test
public void trimTest(){
    String s1 = "javaEE";
    String s2 = "hadoop";

    String s3 = "javaEEhadoop";
    String s4 = "javaEE" + "hadoop";
    String s5 = s1 + "hadoop";
    String s6 = "javaEE" + s2;
    String s7 = s1 + s2;

    System.out.println(s3 == s4);//true
    System.out.println(s3 == s5);//false
    System.out.println(s3 == s6);//false
    System.out.println(s3 == s7);//false
    System.out.println(s5 == s6);//false
    System.out.println(s5 == s7);//false
    System.out.println(s6 == s7);//false
}
```

![image-20210725162604755](images/image-20210725162604755.png)

面试题：返回的结果分别是什么？？？

```java
public class StringTest {
    String str = new String("good");
    char[] ch = { 't', 'e', 's', 't' };
    public void change(String str, char ch[]) {
        str = "test ok";
        ch[0] = 'b'; 
	}
    public static void main(String[] args) {
        StringTest ex = new StringTest();
        ex.change(ex.str, ex.ch);
        System.out.println(ex.str + " and ");   //good
        System.out.println(ex.ch);              //test
    } 
}
```

### String类的常用方法

![image-20210725163937917](images/image-20210725163937917.png)

![image-20210725163953273](images/image-20210725163953273.png)

![image-20210725164011332](images/image-20210725164011332.png)

### String类与其他结构的转换

#### 与基本数据类型和包装类

- String转化为基本数据类型和包装类

方法：调用包装类的静态方法`parseXxxx(str);`

- 基本数据类型和包装类转化为String

方法：调用String重载的`valueOf(xxxx);`

#### 与char[]（字符数组）之间的转换

- String——>char[]数组

方法：调用String 的 `toCharArray()`方法

- char[]数组——>String

方法：调用String的构造器

#### 与byte[]（字节数组）之间的转换

- String——>byte[]数组：编码的过程

方法：调用String 的 `getBytes()`方法

- byte[]数组——>String：解码的过程

方法：调用String的构造器：`new String(xxxx, 编码集)`

## StringBuffer类、StringBuilder类

### 定义

> 当对字符串进行修改的时候，需要使用 StringBuffer 和 StringBuilder 类。
>
> 和 String 类不同的是，StringBuffer 和 StringBuilder 类的对象能够被多次的修改，并且不产生新的未使用对象。

- StringBuffer类：**可变的**字符序列；线程安全的；底层使用char[]存储
- StringBuilder类：**可变的**字符序列；线程不安全的；底层使用char[]存储

**注意：可变的字符序列指的是：底层的char[] value字符串数组可以不断扩容。**

### StringBuffer的常用方法

![image-20210725213922509](images/image-20210725213922509.png)

| 方法名                                  | 描述                                                   |
| --------------------------------------- | ------------------------------------------------------ |
| public StringBuffer append(String s)    | 将指定的字符串追加到此字符序列。                       |
| public StringBuffer reverse()           | 将此字符序列用其反转形式取代。                         |
| public delete(int start, int end)       | 移除此序列的子字符串中的字符。                         |
| public insert(int offset, int i)        | 将 `int` 参数的字符串表示形式插入此序列中              |
| insert(int offset, String str)          | 将 `str` 参数的字符串插入此序列中                      |
| replace(int start, int end, String str) | 使用给定 `String` 中的字符替换此序列的子字符串中的字符 |
| void setCharAt(int index, char ch)      | 将给定索引处的字符设置为 `ch`。                        |
| char charAt(int index)                  | 返回此序列中指定索引处的 `char` 值。                   |
| ...                                     | ....                                                   |

**==注意，涉及有开始结束位置的，都是“左闭右开”的==**

- 方法的总结：


增：`append(xxxx)`

删：`delete(int start, int end)`

改：`setCharAt(int index, char ch)`、`replace(int start, int end, String str)`

查：`charAt(int index)`

插：`insert(int offset, int i)`

长度：`length()`

(少用)遍历：for循环、charAr()、toString()方法

### StringBuffer、StringBuilder和String的效率对比

由高到低：StringBuilder > StringBuffer > String



# 时间日期API

##  JDK8之前

### java.lang.System类

System类提供的public static long currentTimeMillis()用来**返回当前时间与1970年1月1日0时0分0秒之间以毫秒为单位的时间差（也叫时间戳）**。

格式：

```java
long time = System.currentTimeMillis();
System.out.println(time);//1627269906781
```

### java中两个Date类

#### java.util.Date类

表示特定的瞬间，精确到毫秒

![image-20210726112102609](images/image-20210726112102609.png)

注意，`Date(long date)`构造器的参数是毫秒，创建了一个指定时间的Date对象

#### java.sql.Date类

作用：创建sql数据库中的日期

构造器：`Date(long date)`创建一个指定时间的Date对象

#### 两个对象间的转换

- util.Date对象——>sql.Date对象（相当于从父类往子类转）

方法一：利用多态性，强制类型转换

```java
Date date = new java.sql.Date(14525554414L);
java.sql.Date date1 = (java.sql.Date) date;
System.out.println(date);//1970-06-18
System.out.println(date1);//1970-06-18
```

方法二：利用Date类的getTime()方法

```java
Date date2 = new Date();
java.sql.Date date3 = new java.sql.Date(date2.getTime());
System.out.println(date3.toString());//2021-07-26
System.out.println(date3);//2021-07-26
```

### SimpleDateFormat类

Date类的API不易于国际化，大部分被废弃了，**java.text.SimpleDateFormat**类是一个不与语言环境有关的方式来格式化和解析日期的具体类。

它允许进行：1)**格式化：日期——>文本**；2）**解析：文本——>日期**

- 格式化

![image-20210726134006833](images/image-20210726134006833.png)

注意，参数pattern可以借助如下简写字母，进行指定：

<img src="images/image-20210726134547336.png" alt="image-20210726134547336" style="zoom: 80%;" />

- 解析

![image-20210726134636834](images/image-20210726134636834.png)

### Calendar(日历)类

是一个抽象类

实例化





















## JDL 8中





# java 比较器







# System类











# Math类







# BigInteger与BigDecimal

