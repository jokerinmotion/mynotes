# 第三章 数据链路层

## 3.1 数据链路层概述

- 数据链路层在网络结构体系中的地位

主机H1给主机H2发送数据的过程（从五层结构体系来看）：

<img src="images/image-20210630145232334.png" alt="image-20210630145232334" style="zoom:50%;" />

在研究数据链路层时，可以简化为：

<img src="images/image-20210630145632930.png" alt="image-20210630145632930" style="zoom:40%;" />

- 数据链路层的基本概念：

![image-20210630145514386](images/image-20210630145514386.png)

- 数据链路层的三个重要问题（使用点对点信道的数据链路层举例）

1. 封装成帧：数据链路层给网络层交付的协议数据单元添加帧头和帧尾的操作

<img src="images/image-20210630145805270.png" alt="image-20210630145805270" style="zoom:50%;" />

2. 差错检测：接收方主机根据帧尾中的检错码检测帧中是否有误码

> 误码：比特0可能变成比特1，反之亦然

<img src="images/image-20210630150206864.png" alt="image-20210630150206864" style="zoom: 50%;" />

3. 可靠传输：

<img src="images/image-20210630150448716.png" alt="image-20210630150448716" style="zoom:50%;" />

- 数据链路层的其他问题（特别对于使用广播信道的数据链路层）

1. 地址/编址问题

![image-20210630150832738](images/image-20210630150832738.png)

- 碰撞问题（对于共享局域网而言）

![image-20210630151033691](images/image-20210630151033691.png)

- 其他问题：
  ![image-20210630151227302](images/image-20210630151227302.png)

![image-20210630151244464](images/image-20210630151244464.png)

以及包括：

- 集线器（物理层互连设备）和交换机（和网桥一样是数据链路层互连设备）的区别

## 3.2 封装成帧

- 封装成帧的定义：添加**帧头**和**帧尾**

  - 帧头和帧尾包含重要控制信息（如下所示）

    <img src="images/image-20210630151929653.png" alt="image-20210630151929653" style="zoom: 50%;" />

  - 帧头和帧尾的作用之一是==帧定界==（但并不是所有的帧都包含帧定界标志）

  <img src="images/image-20210630152145939.png" alt="image-20210630152145939" style="zoom:50%;" />

  - 但并不是所有帧都包含帧定界标志，以下就是MAC帧的例子：

  <img src="images/image-20210630152807981.png" alt="image-20210630152807981" style="zoom: 33%;" />

  <img src="images/image-20210630152904378.png" alt="image-20210630152904378" style="zoom:33%;" />

- 透明传输：
