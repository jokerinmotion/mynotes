> \5. åº”ç”¨å±‚
>     \1. æŒæ¡DNSåè®®
>         \1. åå­—ç©ºé—´
>         \2. æŒ‡é’ˆæŸ¥è¯¢ï¼ˆåå‘æŸ¥æ‰¾æˆ–é€†å‘è§£æï¼‰åŸºæœ¬åŸç†
>         \3. DNSç¼“å­˜
>     \2. FTPåè®®ï¼ˆæ´»åŒ–çŸ³ï¼‰ï¼š
>         \1. æ§åˆ¶æµå’Œæ•°æ®æµ
>         \2. ä¸¤ç§å·¥ä½œæ¨¡å¼ï¼š PASV å’Œ PORT
>         \3. å„ç§æŒ‡ä»¤å’Œå“åº”ç 
>         \4. æ–­ç‚¹ç»­ä¼ å’ŒåŒ¿åFTPçš„æ¦‚å¿µ
>     \5. HTTPåè®®ï¼š 
>         \1. æŠ¥æ–‡æ ¼å¼ï¼šè¯·æ±‚æŠ¥æ–‡ï¼Œå“åº”æŠ¥æ–‡ï¼Œè¯·æ±‚å¤´å„ç§å­—æ®µï¼Œå“åº”å¤´å„ç§å­—æ®µ
>         \2. HTTPçŠ¶æ€ç 
>     \2. HTTPSåè®®
>         \1. æ¡æ‰‹çš„è¯¦ç»†è¿‡ç¨‹
>         \2. æ‘˜è¦ç®—æ³•ï¼Œæ•°å­—ç­¾åï¼Œæ•°å­—è¯ä¹¦çš„åŸç†å’Œè¿‡ç¨‹

# ç¬¬å…­ç«  åº”ç”¨å±‚

## 6.1 æ¦‚è¿°

![image-20210829143247919](images/image-20210829143247919.png)

![image-20210829143325265](images/image-20210829143325265.png)

![image-20210829143440434](images/image-20210829143440434.png)

## 6.2 å®¢æˆ·-æœåŠ¡å™¨æ–¹å¼å’Œå¯¹ç­‰æ–¹å¼

![image-20210829143549776](images/image-20210829143549776.png)

### å®¢æˆ·/æœåŠ¡å™¨æ–¹å¼(C/S)

![image-20210829143737932](images/image-20210829143737932.png)

![image-20210829143800579](images/image-20210829143800579.png)

### å¯¹ç­‰æ–¹å¼ï¼ˆPeer to Peerï¼ŒP2Pï¼‰

![image-20210829144011508](images/image-20210829144011508.png)

![image-20210829144033971](images/image-20210829144033971.png)

### å°ç»“

![image-20210829144103618](images/image-20210829144103618.png)



## 6.3 åŠ¨æ€ä¸»æœºé…ç½®åè®®DHCP

### ä½œç”¨

DHCP (Dynamic Host Configuration Protocol) æä¾›äº†å³æ’å³ç”¨çš„è¿ç½‘æ–¹å¼ï¼Œç”¨æˆ·ä¸å†éœ€è¦æ‰‹åŠ¨é…ç½® IP åœ°å€ç­‰ä¿¡æ¯ã€‚

DHCP é…ç½®çš„å†…å®¹ä¸ä»…æ˜¯ IP åœ°å€ï¼Œè¿˜åŒ…æ‹¬å­ç½‘æ©ç ã€ç½‘å…³ IP åœ°å€ã€‚

![image-20210829150015511](images/image-20210829150015511.png)

### å·¥ä½œè¿‡ç¨‹

DHCPä½¿ç”¨C/Sæ–¹å¼ã€‚DHCPæ˜¯TCP/IPåè®®ä½“ç³»ä¸­çš„åè®®ï¼Œä½¿ç”¨è¿è¾“å±‚çš„UDPæä¾›çš„æœåŠ¡ï¼ˆDHCPæœåŠ¡å™¨UDPç«¯å£æ˜¯67ï¼ŒDHCPå®¢æˆ·ä½¿ç”¨çš„UDPç«¯å£æ˜¯68ï¼‰

ï¼ˆä¸€ï¼‰å®¢æˆ·ç«¯å‘é€ **Discover æŠ¥æ–‡**ï¼ˆDHCPå‘ç°æŠ¥æ–‡ï¼‰ï¼Œ**è¯¥æŠ¥æ–‡çš„ç›®çš„åœ°å€ä¸º 255.255.255.255:67ï¼Œæºåœ°å€ä¸º 0.0.0.0:68**ï¼Œè¢«æ”¾å…¥ UDP ä¸­ï¼Œè¯¥æŠ¥æ–‡è¢«å¹¿æ’­åˆ°åŒä¸€ä¸ªå­ç½‘çš„æ‰€æœ‰ä¸»æœºä¸Šã€‚å¦‚æœå®¢æˆ·ç«¯å’Œ DHCP æœåŠ¡å™¨ä¸åœ¨åŒä¸€ä¸ªå­ç½‘ï¼Œå°±éœ€è¦ä½¿ç”¨ä¸­ç»§ä»£ç†ã€‚

![image-20210829150719553](images/image-20210829150719553.png)

DHCPæŠ¥æ–‡çš„æ ¼å¼æ¯”è¾ƒå¤æ‚ï¼Œå¯¹äºå‘ç°æŠ¥æ–‡ï¼Œå…¶å†…éƒ¨å°è£…æœ‰äº‹åŠ¡IDå’ŒDHCPå®¢æˆ·ç«¯çš„MACåœ°å€ã€‚







ï¼ˆäºŒï¼‰DHCP æœåŠ¡å™¨æ”¶åˆ° Discover æŠ¥æ–‡ä¹‹åï¼Œæ ¹æ®å…¶ä¸­å°è£…çš„DHCPå®¢æˆ·ç«¯çš„MACåœ°å€æŸ¥æ‰¾è‡ªå·±çš„æ•°æ®åº“ï¼Œçœ‹æ˜¯å¦æœ‰é’ˆå¯¹è¯¥MACåœ°å€çš„é…ç½®ä¿¡æ¯ã€‚

å¦‚æœæœ‰ï¼Œåˆ™ä½¿ç”¨è¿™äº›é…ç½®ä¿¡æ¯æ„å»º**DHCP æä¾›æŠ¥æ–‡ï¼ˆOfferï¼‰**ã€‚å¦‚æœæ²¡æœ‰ï¼Œåˆ™é‡‡ç”¨é»˜è®¤é…ç½®ä¿¡æ¯æ¥æ„å»ºå¹¶å‘é€DHCPæä¾›æŠ¥æ–‡ã€‚

**å› ä¸ºå®¢æˆ·ç«¯å¯èƒ½æ”¶åˆ°å¤šä¸ª DHCP æœåŠ¡å™¨æä¾›çš„ä¿¡æ¯ï¼Œå› æ­¤å®¢æˆ·ç«¯éœ€è¦è¿›è¡Œé€‰æ‹©ï¼ˆä¸€èˆ¬é€‰æ‹©å…ˆåˆ°çš„é‚£ä¸ªï¼‰**ã€‚

![image-20210829151209391](images/image-20210829151209391.png)

DHCPæœåŠ¡å™¨å†ç»™DHCPå®¢æˆ·æŒ‘é€‰IPåœ°å€æ—¶ï¼Œä½¿ç”¨ARPæ¥ç¡®ä¿IPåœ°å€æœªè¢«å ç”¨ï¼š

![image-20210829151559499](images/image-20210829151559499.png)





ï¼ˆä¸‰ï¼‰å¦‚æœå®¢æˆ·ç«¯é€‰æ‹©äº†æŸä¸ª DHCP æœåŠ¡å™¨æä¾›çš„ä¿¡æ¯ï¼Œé‚£ä¹ˆå°±å‘é€**DHCPè¯·æ±‚æŠ¥æ–‡ï¼ˆ Request æŠ¥æ–‡ï¼‰**ç»™è¯¥ DHCP æœåŠ¡å™¨ã€‚

æºåœ°å€ä»ä¸º0.0.0.0ï¼Œå› ä¸ºæ­¤æ—¶DHCPå®¢æˆ·æ‰ä»å¤šä¸ªDHCPæœåŠ¡å™¨ä¸­æŒ‘é€‰ä¸€ä¸ªä½œä¸ºè‡ªå·±çš„DHCPæœåŠ¡å™¨ï¼Œå®ƒé¦–å…ˆéœ€è¦äº‰å¾—æ”¹æœåŠ¡å™¨çš„åŒæ„ï¼Œä¹‹åæ‰èƒ½æ­£å¼ä½¿ç”¨å‘è¯¥DHCPæœåŠ¡å™¨ç§Ÿç”¨çš„IPåœ°å€ï¼›

ç›®çš„åœ°å€ä¸ºå¹¿æ’­åœ°å€ï¼Œä¸éœ€è¦å•æ’­å‘é€ã€‚

DHCPè¯·æ±‚æŠ¥æ–‡ä¸­å°è£…ä¿¡æ¯å¦‚ä¸‹ï¼š

![image-20210829151815426](images/image-20210829151815426.png)





ï¼ˆå››ï¼‰DHCP æœåŠ¡å™¨å‘é€ **DHCPç¡®è®¤æŠ¥æ–‡ï¼ˆAck æŠ¥æ–‡**ï¼‰ï¼Œè¡¨ç¤ºå®¢æˆ·ç«¯æ­¤æ—¶å¯ä»¥ä½¿ç”¨æä¾›ç»™å®ƒçš„ä¿¡æ¯ã€‚

DHCPå®¢æˆ·åœ¨ä½¿ç”¨IPåœ°å€å‰ï¼Œä¹Ÿä¼šä½¿ç”¨ARPæ£€æµ‹ï¼š

![image-20210829152241481](images/image-20210829152241481.png)

å½“ç§Ÿç”¨æœŸè¿‡äº†ä¸€åŠæ—¶ï¼ŒDHCPå®¢æˆ·ä¼šå‘DHCPæœåŠ¡å™¨å‘é€DHCPè¯·æ±‚æŠ¥æ–‡ï¼Œæ¥è¯·æ±‚æ›´æ–°ç§Ÿç”¨æœŸã€‚DHCPæœåŠ¡å™¨çš„ååº”æœ‰ä»¥ä¸‹ä¸‰ç§æƒ…å†µï¼š

![image-20210829152531701](images/image-20210829152531701.png)

DHCPå®¢æˆ·å¯ä»¥éšæ—¶æå‰ç»ˆæ­¢DHCPæœåŠ¡å™¨æ‰€æä¾›çš„ç§Ÿç”¨æœŸï¼Œåªéœ€å‘é€**DHCPé‡Šæ”¾æŠ¥æ–‡æ®µ**å³å¯ï¼š

![image-20210829152734314](images/image-20210829152734314.png)

### ä¸­ç»§ä»£ç†



![image-20210829153154661](images/image-20210829153154661.png)

è§£å†³åŠæ³•ï¼šç»™è·¯ç”±å™¨é…ç½®DHCPæœåŠ¡å™¨çš„IPåœ°å€ï¼Œä½¿ä¹‹æˆä¸ºDHCPä¸­ç»§ä»£ç†

![image-20210829153322312](images/image-20210829153322312.png)

### å°ç»“

![image-20210829153343439](images/image-20210829153343439.png)



## ğŸ’¡6.4 åŸŸåç³»ç»ŸDNS(Domain Name System)

> . æŒæ¡DNSåè®®
>         \1. åå­—ç©ºé—´
>         \2. æŒ‡é’ˆæŸ¥è¯¢ï¼ˆåå‘æŸ¥æ‰¾æˆ–é€†å‘è§£æï¼‰åŸºæœ¬åŸç†
>         \3. DNSç¼“å­˜

### DNSçš„ä½œç”¨

å¯¹äºå¤§å¤šæ•°ç½‘ç»œåº”ç”¨ï¼Œä¸€èˆ¬ä½¿ç”¨åŸŸåæ¥è®¿é—®ç›®çš„ä¸»æœºï¼Œè€Œä¸æ˜¯IPåœ°å€ã€‚

åœ¨æµè§ˆå™¨è¾“å…¥åŸŸåæ—¶ï¼š

ç”¨æˆ·ä¸»æœºé¦–å…ˆåœ¨è‡ªå·±çš„DNSé«˜é€Ÿç¼“å­˜ä¸­æŸ¥æ‰¾è¯¥åŸŸåæ‰€å¯¹åº”çš„IPåœ°å€ï¼Œå¦‚æœæ²¡æœ‰æ‰¾åˆ°ï¼Œåˆ™ä¼šå‘ç½‘ç»œä¸­çš„æŸå°DNSæœåŠ¡å™¨æŸ¥è¯¢ã€‚

<img src="images/image-20210829153956278.png" alt="image-20210829153956278" style="zoom: 33%;" />

<img src="images/image-20210829154012179.png" alt="image-20210829154012179" style="zoom:50%;" />





### å±‚æ¬¡æ ‘çŠ¶ç»“æ„çš„åŸŸåç»“æ„

![image-20210829154059821](images/image-20210829154059821.png)

![image-20210829154211401](images/image-20210829154211401.png)

#### é¡¶çº§åŸŸå

![image-20210829154412604](images/image-20210829154412604.png)

#### å› ç‰¹ç½‘çš„åŸŸåç©ºé—´

![image-20210829154529202](images/image-20210829154529202.png)





### åŸŸåæœåŠ¡å™¨

![image-20210829154646604](images/image-20210829154646604.png)



### åŸŸåè§£æçš„è¿‡ç¨‹

#### é€’å½’æŸ¥è¯¢

<img src="images/image-20210829155311604.png" alt="image-20210829155311604" style="zoom:50%;" />

#### è¿­ä»£æŸ¥è¯¢

<img src="images/image-20210829155445081.png" alt="image-20210829155445081" style="zoom: 50%;" />

#### é«˜é€Ÿç¼“å­˜

![image-20210829160356992](images/image-20210829160356992.png)

![image-20210829160413115](images/image-20210829160413115.png)



### è¯¾ä¸Šä¹ é¢˜

<img src="images/image-20210829160603973.png" alt="image-20210829160603973" style="zoom: 33%;" />

<img src="images/image-20210829160734431.png" alt="image-20210829160734431" style="zoom:33%;" />

### å°ç»“

![image-20210829160802943](images/image-20210829160802943.png)





## 6.5 æ–‡ä»¶ä¼ é€åè®®FTP

>   \2. FTPåè®®ï¼ˆæ´»åŒ–çŸ³ï¼‰ï¼š
>         \1. æ§åˆ¶æµå’Œæ•°æ®æµ
>         \2. ä¸¤ç§å·¥ä½œæ¨¡å¼ï¼š PASV å’Œ PORT
>         \3. å„ç§æŒ‡ä»¤å’Œå“åº”ç 
>         \4. æ–­ç‚¹ç»­ä¼ å’ŒåŒ¿åFTPçš„æ¦‚å¿µ

![image-20210829160859446](images/image-20210829160859446.png)

![image-20210829162102605](images/image-20210829162102605.png)

### åº”ç”¨ä¸¾ä¾‹

ftpé‡‡ç”¨C/Sæ–¹å¼ï¼Œ

<img src="images/image-20210829161558522.png" alt="image-20210829161558522" style="zoom: 50%;" />

å¯ä»¥ä½¿ç”¨æ“ä½œç³»ç»Ÿè‡ªå¸¦çš„FTPæœåŠ¡å™¨è½¯ä»¶ï¼Œåˆ›å»ºä¸€ä¸ªFTPæœåŠ¡å™¨ç«™ç‚¹ï¼š

<img src="images/image-20210829161625971.png" alt="image-20210829161625971" style="zoom:33%;" />

åˆ™å¯ä»¥åœ¨å®¢æˆ·è®¡ç®—æœºä¸­ä½¿ç”¨æµè§ˆå™¨é€šè¿‡åˆ›å»ºçš„IPåœ°å€æ¥è®¿é—®FTPæœåŠ¡å™¨ï¼Œæˆ–è€…ç³»ç»Ÿè‡ªå¸¦çš„å‘½ä»¤è¡Œå·¥å…·è®¿é—®FTPæœåŠ¡å™¨ï¼š

<img src="images/image-20210829161925315.png" alt="image-20210829161925315" style="zoom: 50%;" />

<img src="images/image-20210829161944397.png" alt="image-20210829161944397" style="zoom:33%;" />

ä¹Ÿå¯ä»¥ä½¿ç”¨FTPå®¢æˆ·ç«¯å·¥å…·ï¼š

<img src="images/image-20210829162011575.png" alt="image-20210829162011575" style="zoom: 50%;" />

### ğŸ’¡åŸºæœ¬å·¥ä½œåŸç†

#### ä¸»åŠ¨æ¨¡å¼

![image-20210829162239126](images/image-20210829162239126.png)

#### è¢«åŠ¨æ¨¡å¼

<img src="images/image-20210829162439033.png" alt="image-20210829162439033" style="zoom: 50%;" />

### è¯¾ä¸Šä¹ é¢˜

<img src="images/image-20210829162614854.png" alt="image-20210829162614854" style="zoom:50%;" />

<img src="images/image-20210829162626044.png" alt="image-20210829162626044" style="zoom:50%;" />

### å°ç»“

![image-20210829162739943](images/image-20210829162739943.png)



## 6.6 ç”µå­é‚®ä»¶

![image-20210829162908658](images/image-20210829162908658.png)

### ä¸»è¦æ„ä»¶

ç”µå­é‚®ä»¶ç³»ç»Ÿä½¿ç”¨C/Sæ–¹å¼ï¼Œç”µå­é‚®ä»¶ç³»ç»Ÿçš„ä¸‰ä¸ªä¸»è¦æ„ä»¶ï¼š

- ç”¨æˆ·ä»£ç†

- é‚®ä»¶æœåŠ¡å™¨
- ç”µå­é‚®ä»¶æ‰€éœ€çš„åè®®

#### ç”¨æˆ·ä»£ç†

![image-20210829163211888](images/image-20210829163211888.png)

#### é‚®ä»¶æœåŠ¡å™¨

![image-20210829163458398](images/image-20210829163458398.png)

#### é‚®ä»¶åè®®

![image-20210829163609618](images/image-20210829163609618.png)



### å‘é€è¿‡ç¨‹

![image-20210829163803239](images/image-20210829163803239.png)



### ç®€å•é‚®ä»¶ä¼ é€åè®®SMTP

SMTPå®¢æˆ·ä¸æœåŠ¡å™¨ä¹‹é—´é€šè¿‡å‘½ä»¤ä¸åº”ç­”çš„äº¤äº’æ–¹å¼ï¼Œæœ€ç»ˆå®ç°SMTPå®¢æˆ·å‘é€é‚®ä»¶ç»™SMTPæœåŠ¡å™¨ï¼š

![image-20210829164325105](images/image-20210829164325105.png)

#### å…·ä½“è¿‡ç¨‹

![image-20210829165153625](images/image-20210829165153625.png)

- ç”µå­é‚®ä»¶ä¿¡æ¯æ ¼å¼

![image-20210829165249725](images/image-20210829165249725.png)

#### å¤šç”¨é€”å› ç‰¹ç½‘é‚®ä»¶æ‰©å±•MIME

![image-20210829165532246](images/image-20210829165532246.png)

![image-20210829165559562](images/image-20210829165559562.png)

### é‚®ä»¶è¯»å–åè®®

![image-20210829165754784](images/image-20210829165754784.png)

![image-20210829165806012](images/image-20210829165806012.png)



### åŸºäºä¸‡ç»´ç½‘çš„ç”µå­é‚®ä»¶

![image-20210829170004596](images/image-20210829170004596.png)

### è¯¾ä¸Šä¹ é¢˜

![image-20210829170809026](images/image-20210829170809026.png)



### å°ç»“

![image-20210829170838097](images/image-20210829170838097.png)

