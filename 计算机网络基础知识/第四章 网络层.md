# ç¬¬å››ç«  ç½‘ç»œå±‚

## 4.1 ç½‘ç»œå±‚æ¦‚è¿°

ç½‘ç»œå±‚çš„ä¸»è¦ä»»åŠ¡æ˜¯**å®ç°ç½‘ç»œäº’è¿**ï¼Œè¿›è€Œ**å®ç°æ•°æ®åŒ…åœ¨å„ç½‘ç»œä¹‹é—´çš„ä¼ è¾“**ã€‚

è¦å®ç°ç½‘ç»œå±‚ä»»åŠ¡ï¼Œéœ€è¦è§£å†³ä»¥ä¸‹é—®é¢˜

1. ç½‘ç»œå±‚å‘è¿è¾“å±‚æä¾›æ€æ ·çš„æœåŠ¡ï¼ˆâ€œå¯é ä¼ è¾“â€è¿˜æ˜¯â€œä¸å¯é ä¼ è¾“â€ï¼‰

   å¯¹äºè¯¯ç ã€ï¼ˆè¢«è·¯ç”±å™¨ï¼‰ä¸¢å¼ƒã€æˆ–å¤±åºï¼ˆæŒ‰åºå‘é€çš„æ•°æ®åŒ…ä¸èƒ½æŒ‰åºåˆ°è¾¾ï¼‰ï¼Œå¦‚æœä¸é‡‡å–ä»»ä½•æªæ–½ï¼Œåˆ™æ˜¯ä¸å¯é ä¼ è¾“æœåŠ¡ï¼›å¦‚æœé‡‡å–æªæ–½ï¼Œå¹¶ä½¿å¾—æ¥æ”¶æ–¹èƒ½æ­£ç¡®æ¥æ”¶æ•°æ®åŒ…ï¼Œåˆ™æ˜¯å¯é ä¼ è¾“æœåŠ¡ã€‚

2. ç½‘ç»œå±‚å¯»å€é—®é¢˜

<img src="images/image-20210706194642694.png" alt="image-20210706194642694" style="zoom: 50%;" />

3. è·¯ç”±é€‰æ‹©é—®é¢˜

è·¯ç”±å™¨æ”¶åˆ°æ•°æ®åŒ…åï¼Œæ˜¯ä¾æ®ä»€ä¹ˆæ¥å†³å®šï¼Œå°†æ•°æ®åŒ…ä»è‡ªå·±çš„å“ªä¸ªæ¥å£è½¬å‘å‡ºå»å‘¢ï¼Ÿ

<img src="images/image-20210706194852236.png" alt="image-20210706194852236" style="zoom: 33%;" />

![image-20210706195004954](images/image-20210706195004954.png)

![image-20210706195050873](images/image-20210706195050873.png)

## 4.2 ç½‘ç»œå±‚æä¾›çš„ä¸¤ç§æœåŠ¡

### é¢å‘è¿æ¥çš„è™šç”µè·¯(virtual circuit)æœåŠ¡

<img src="images/image-20210706200423697.png" alt="image-20210706200423697" style="zoom:33%;" />

<img src="images/image-20210706200721654.png" alt="image-20210706200721654" style="zoom:50%;" />

### æ— è¿æ¥çš„æ•°æ®æŠ¥æœåŠ¡

<img src="images/image-20210706200904137.png" alt="image-20210706200904137" style="zoom: 50%;" />

<img src="images/image-20210706200936295.png" alt="image-20210706200936295" style="zoom:50%;" />

### å°ç»“

![image-20210706201017038](images/image-20210706201017038.png)

## 4.3 IPv4åœ°å€åŠå…¶åº”ç”¨

### 4.3.1 æ¦‚è¿°

<img src="images/image-20210706201306213.png" alt="image-20210706201306213" style="zoom: 50%;" />

#### IPv4åœ°å€çš„è¡¨ç¤ºæ–¹æ³•â€”â€”ç‚¹åˆ†åè¿›åˆ¶è¡¨ç¤ºæ–¹æ³•

<img src="images/image-20210706201518532.png" alt="image-20210706201518532" style="zoom:50%;" />

#### 8ä½äºŒè¿›åˆ¶æ•´æ•°è½¬ä¸ºåè¿›åˆ¶æ•°

![image-20210706201643294](images/image-20210706201643294.png)

äºŒè¿›åˆ¶è½¬åè¿›åˆ¶çš„ä¸¾ä¾‹ï¼š

![image-20210706201843939](images/image-20210706201843939.png)

#### åè¿›åˆ¶æ­£æ•´æ•°è½¬ä¸º8è¿›åˆ¶äºŒè¿›åˆ¶æ•°â€”â€”é™¤2å–ä½™æ³•/å‡‘å€¼æ³•

![image-20210706202227884](images/image-20210706202227884.png)

æ…•è¯¾é¢˜ï¼š

<img src="images/image-20210706202514054.png" alt="image-20210706202514054" style="zoom: 50%;" />

### 4.3.2 åˆ†ç±»ç¼–å€çš„IPv4åœ°å€

äº”ç±»åœ°å€ï¼š

<img src="images/image-20210706205333839.png" alt="image-20210706205333839" style="zoom:50%;" />

#### Aç±»åœ°å€

![image-20210706210456533](images/image-20210706210456533.png)

#### Bç±»åœ°å€

![image-20210706210723798](images/image-20210706210723798.png)

#### Cç±»åœ°å€

![image-20210706210859960](images/image-20210706210859960.png)

ç»ƒä¹ ï¼š

![image-20210706211000104](images/image-20210706211000104.png)

![image-20210706211150014](images/image-20210706211150014.png)

<img src="images/image-20210706211446639.png" alt="image-20210706211446639" style="zoom: 50%;" />

![image-20210706211525100](images/image-20210706211525100.png)

![image-20210706211955019](images/image-20210706211955019.png)

æ…•è¯¾é¢˜ï¼š

<img src="images/image-20210706212536171.png" alt="image-20210706212536171" style="zoom: 50%;" />

### 4.3.3 åˆ’åˆ†å­ç½‘çš„IPv4åœ°å€

åˆ’åˆ†å­ç½‘éœ€æ±‚çš„å‡ºç°

å¦‚å›¾ï¼ŒæŸå•ä½æœ‰ä¸ªå¤§å‹å±€åŸŸç½‘éœ€è¦è¿æ¥åˆ°å› ç‰¹ç½‘ï¼Œç”³è¯·Cç±»çš„è¯IPåœ°å€æ•°é‡å¤ªå°‘ï¼ŒBç±»çš„è¯æœ‰å¯èƒ½ä¼šå¤ªå¤šã€‚

<img src="images/image-20210706212914703.png" alt="image-20210706212914703" style="zoom:50%;" />

éšç€è¯¥å•ä½çš„å‘å±•ï¼Œæœ‰å¯èƒ½éœ€è¦åˆ’åˆ†æˆä¸‰ä¸ªç‹¬ç«‹çš„ç½‘ç»œï¼š

<img src="images/image-20210706213047459.png" alt="image-20210706213047459" style="zoom: 33%;" />

ä½†æ˜¯ï¼Œå¯ä»¥ä»ä¸»æœºå·éƒ¨åˆ†å€Ÿç”¨ä¸€éƒ¨åˆ†ä½œä¸ºå­ç½‘å·ï¼š

![image-20210706213311788](images/image-20210706213311788.png)

ä½†æ˜¯ï¼Œå¦‚æœæœªåœ¨å›¾ä¸­æ ‡è®°å­ç½‘å·éƒ¨åˆ†ï¼Œé‚£ä¹ˆæˆ‘ä»¬å’Œè®¡ç®—æœºåˆå¦‚ä½•çŸ¥é“åˆ†ç±»åœ°å€ä¸­ä¸»æœºå·æœ‰å¤šå°‘æ¯”ç‰¹è¢«ç”¨ä½œå­ç½‘å·äº†å‘¢ï¼Ÿ

#### å­ç½‘æ©ç 

<img src="images/image-20210706213604561.png" alt="image-20210706213604561" style="zoom:50%;" />

#### åˆ’åˆ†å­ç½‘çš„ç»†èŠ‚

![image-20210706214538008](images/image-20210706214538008.png)

ä½œä¸ºCç±»ç½‘çš„æ‰€ä»¥IPåœ°å€ï¼š

<img src="images/image-20210706214826930.png" alt="image-20210706214826930" style="zoom: 33%;" />

åˆ’åˆ†å­ç½‘åçš„IPåœ°å€ï¼š

![image-20210706215039415](images/image-20210706215039415.png)

ç»ƒä¹ é¢˜ä¸è€ƒç ”é¢˜ï¼š

<img src="images/image-20210706215110054.png" alt="image-20210706215110054" style="zoom: 33%;" />

![image-20210706215240311](images/image-20210706215240311.png)

<img src="images/image-20210706215341719.png" alt="image-20210706215341719" style="zoom: 45%;" />

#### é»˜è®¤å­ç½‘æ©ç 

<img src="images/image-20210706215510825.png" alt="image-20210706215510825" style="zoom: 50%;" />

### 4.4.4 æ— åˆ†ç±»ç¼–å€çš„IPv4åœ°å€

<img src="images/image-20210706215827781.png" alt="image-20210706215827781" style="zoom:50%;" />

#### æ— åˆ†ç±»åŸŸé—´è·¯ç”±é€‰æ‹©CIDR

<img src="images/image-20210706220058517.png" alt="image-20210706220058517" style="zoom: 33%;" />

##### ä¸¾ä¾‹è¯´æ˜ç»†èŠ‚

![image-20210706220757355](images/image-20210706220757355.png)

##### è·¯ç”±èšåˆï¼ˆæ„é€ è¶…ç½‘ï¼‰

<img src="images/image-20210706221350281.png" alt="image-20210706221350281" style="zoom: 33%;" />

è€ƒç ”é¢˜ç›®ï¼š

<img src="images/image-20210706221827230.png" alt="image-20210706221827230" style="zoom:40%;" />

<img src="images/image-20210706221945594.png" alt="image-20210706221945594" style="zoom:30%;" />

#### å°ç»“

![image-20210706222033801](images/image-20210706222033801.png)

### 4.4.5 IPv4åœ°å€çš„åº”ç”¨è§„åˆ’

åº”ç”¨è§„åˆ’ï¼šç»™å®šä¸€ä¸ªIPv4åœ°å€å—ï¼Œå¦‚ä½•å°†å…¶åˆ’åˆ†æˆå‡ ä¸ªæ›´å°çš„åœ°å€å—ï¼Œå¹¶å°†è¿™äº›åœ°å€å—åˆ†é…ç»™äº’è”ç½‘ä¸­çš„ä¸åŒç½‘ç»œï¼Œè¿›è€Œå¯ä»¥ç»™å„ç½‘ç»œä¸­çš„ä¸»æœºå’Œè·¯ç”±å™¨æ¥å£åˆ†é…IPv4åœ°å€ã€‚ä¸€èˆ¬æœ‰ä»¥ä¸‹ä¸¤ç§æ–¹æ³•ï¼š

![image-20210708101239567](images/image-20210708101239567.png)

#### FLSM

<img src="images/image-20210708102353871.png" alt="image-20210708102353871" style="zoom: 33%;" />

åˆ†æå®Œéœ€æ±‚åï¼Œé—®é¢˜å¯ä»¥ç®€åŒ–ä¸ºï¼š

![image-20210708102905197](images/image-20210708102905197.png)

æœ€åï¼Œåˆ’åˆ†å­ç½‘çš„ç»†èŠ‚ï¼š

![image-20210708103050329](images/image-20210708103050329.png)

æœ€åå°±æ˜¯ä»»é€‰5å„åˆ†é…ç»™å›¾ä¸­æ‰€ç»™å‡ºçš„ç½‘ç»œã€‚

#### VLSM

ä½¿ç”¨å¤§è‡´ç›¸åŒçš„ä¾‹å­

<img src="images/image-20210708104116747.png" alt="image-20210708104116747" style="zoom:50%;" />

åˆ™ï¼Œéœ€æ±‚å¯ä»¥è½¬åŒ–ä¸ºï¼š

<img src="images/image-20210708104742573.png" alt="image-20210708104742573" style="zoom:50%;" />

æœ€åï¼Œåˆ’åˆ†å­ç½‘çš„ç»†èŠ‚ï¼š

<img src="images/image-20210708104945216.png" alt="image-20210708104945216" style="zoom:50%;" />

å°ç»“ï¼š

![image-20210826112549637](images/image-20210826112549637.png)

## 4.4 IPæ•°æ®æŠ¥çš„å‘é€å’Œè½¬å‘è¿‡ç¨‹

![image-20210706222145470](images/image-20210706222145470.png)

ç›´æ¥äº¤ä»˜ï¼šåŒä¸€ä¸ªç½‘ç»œä¸­çš„ä¸»æœºä¹‹é—´

é—´æ¥äº¤ä»˜ï¼šä¸åŒç½‘ç»œä¸­çš„ä¸»æœºä¹‹é—´ï¼Œéœ€è¦è·¯ç”±å™¨

é»˜è®¤ç½‘å…³ï¼šç”¨æˆ·ä¸ºäº†è®©æœ¬ç½‘ç»œçš„ä¸»æœºèƒ½å’Œå…¶ä»–ç½‘ç»œä¸­çš„ä¸»æœºè¿›è¡Œé€šä¿¡ï¼Œå¿…é¡»æŒ‡å®šç»™å…¶æŒ‡å®šæœ¬ç½‘ç»œä¸­çš„ä¸€ä¸ªè·¯ç”±å™¨ï¼Œæ‰€æŒ‡å®šçš„è·¯ç”±å™¨å°±ç§°ä¸ºé»˜è®¤ç½‘å…³

![image-20210826210026229](images/image-20210826210026229.png)

![image-20210826210721019](images/image-20210826210721019.png)

![image-20210826210801458](images/image-20210826210801458.png)

è¯¾å ‚å°æµ‹ï¼š

![image-20210826210839529](images/image-20210826210839529.png)



å°ç»“ï¼š

![image-20210826212009163](images/image-20210826212009163.png)

## 4.5 é™æ€è·¯ç”±é…ç½®åŠå…¶å¯èƒ½äº§ç”Ÿçš„è·¯ç”±ç¯è·¯é—®é¢˜

### å®šä¹‰![image-20210826212934378](images/image-20210826212934378.png)

### ä¸¾ä¾‹

- ç›´è¿è·¯ç”±ï¼š![image-20210826213821459](images/image-20210826213821459.png)

- é™æ€è·¯ç”±ï¼š![image-20210826213537506](images/image-20210826213537506.png)

- é»˜è®¤è·¯ç”±ï¼š![image-20210826214311079](images/image-20210826214311079.png)

![image-20210826214530889](images/image-20210826214530889.png)

- ç‰¹å®šä¸»æœºè·¯ç”±ï¼šä¸€èˆ¬ç”¨äºç½‘ç»œç®¡ç†äººå‘˜å¯¹ç½‘ç»œçš„ç®¡ç†å’Œæµ‹è¯•ã€‚![image-20210826214701524](images/image-20210826214701524.png)

ç‰¹å®šä¸»æœºè·¯ç”±ç½‘ç»œå‰ç¼€æœ€é•¿ï¼Œè·¯ç”±æœ€å…·ä½“ï¼›è€Œé»˜è®¤è·¯ç”±ç½‘ç»œå‰ç¼€æœ€ç«¯ï¼Œè·¯ç”±æœ€æ¨¡ç³Šã€‚**å¤šæ¡è·¯ç”±å¯é€‰æ—¶ï¼Œé‡‡ç”¨â€œæœ€é•¿å‰ç¼€åŒ¹é…â€åŸåˆ™**ï¼Œé€‰ç”¨ç½‘ç»œå‰ç¼€æœ€é•¿çš„é‚£ä¸ªè·¯ç”±æ¡ç›®è¿›è¡Œè½¬å‘ã€‚

### é—®é¢˜

![image-20210826212948143](images/image-20210826212948143.png)

- é™æ€è·¯ç”±é…ç½®é”™è¯¯å¯¼è‡´çš„è·¯ç”±ç¯è·¯

![image-20210826215343328](images/image-20210826215343328.png)



- èšåˆäº†ä¸å­˜åœ¨çš„ç½‘ç»œè€Œå¯¼è‡´çš„è·¯ç”±ç¯è·¯

èšåˆè·¯ç”±çš„æ¦‚å¿µï¼š![image-20210826221216476](images/image-20210826221216476.png)

é—®é¢˜ä¸¾ä¾‹ï¼š

![image-20210826221315432](images/image-20210826221315432.png)

è§£å†³æ–¹æ³•ï¼šæ·»åŠ é»‘æ´è·¯ç”±

<img src="images/image-20210826221413930.png" alt="image-20210826221413930" style="zoom: 33%;" />



- ç½‘ç»œæ•…éšœè€Œå¯¼è‡´çš„è·¯ç”±ç¯è·¯

![image-20210826221644359](images/image-20210826221644359.png)

è§£å†³æ–¹æ³•ï¼šæ·»åŠ é’ˆå¯¹è¯¥ç½‘ç»œæ•…éšœçš„ç½‘ç»œçš„é»‘æ´è·¯ç”±

![image-20210826222224058](images/image-20210826222224058.png)

å¦‚æœç½‘ç»œæ•…éšœæ¶ˆå¤±åï¼Œåˆ™R1åˆè‡ªåŠ¨å¾—å‡ºäº†å…¶æ¥å£0çš„ç›´è¿ç½‘ç»œçš„è·¯ç”±æ¡ç›®ï¼Œå¹¶æŠŠäººå·¥é…ç½®çš„é’ˆå¯¹è¯¥ç›´è¿ç½‘ç»œçš„é»‘æ´è·¯ç”±æ¡ç›®è®¾ç½®ä¸ºå¤±æ•ˆçŠ¶æ€ã€‚

### å°ç»“

![image-20210826222443915](images/image-20210826222443915.png)

## 4.6 è·¯ç”±é€‰æ‹©åè®®

### 4.6.1 æ¦‚è¿°

![image-20210826222856253](images/image-20210826222856253.png)

å› ç‰¹ç½‘æ‰€é‡‡ç”¨çš„è·¯ç”±é€‰æ‹©åè®®çš„ä¸»è¦ç‰¹ç‚¹ï¼š

![image-20210826224733124](images/image-20210826224733124.png)

- åŸŸé—´è·¯ç”±é€‰æ‹©ï¼šè‡ªæ²»ç³»ç»Ÿä¹‹é—´çš„è·¯ç”±é€‰æ‹©ï¼Œä½¿ç”¨**å¤–éƒ¨ç½‘å…³åè®®EGP(ä¹Ÿå¯æ”¹ç§°ä¸ºå¤–éƒ¨è·¯ç”±åè®®ERP)**
- åŸŸå†…è·¯ç”±é€‰æ‹©ï¼šè‡ªæ²»ç³»ç»Ÿå†…éƒ¨çš„è·¯ç”±é€‰æ‹©ï¼Œä½¿ç”¨**å†…éƒ¨ç½‘å…³åè®®IGP(ä¹Ÿå¯æ”¹ç§°ä¸ºå¤–éƒ¨è·¯ç”±åè®®IRP)**

 #### å¸¸è§çš„è·¯ç”±é€‰æ‹©åè®®

![image-20210826230210887](images/image-20210826230210887.png)

#### è·¯ç”±å™¨åŸºæœ¬ç»“æ„

è·¯ç”±å™¨æ˜¯ä¸€ç§å…·æœ‰å¤šä¸ªè¾“å…¥å’Œè¾“å‡ºç«¯å£çš„ä¸“ç”¨è®¡ç®—æœºï¼Œå…¶ä»»åŠ¡æ˜¯è½¬å‘åˆ†ç»„ã€‚

![image-20210826230725544](images/image-20210826230725544.png)

å…¶ä¸­ï¼Œè·¯ç”±è¡¨å’Œè½¬å‘è¡¨æ˜¯ä¸ä¸€æ ·çš„ï¼š

![image-20210826231201423](images/image-20210826231201423.png)

å¦å¤–ï¼Œè·¯ç”±å™¨çš„å„ç«¯å£è¿˜åº”å…·æœ‰è¾“å…¥ç¼“å†²åŒºå’Œè¾“å‡ºç¼“å†²åŒºï¼š

![image-20210826231342678](images/image-20210826231342678.png)

#### å°ç»“

![image-20210826231432272](images/image-20210826231432272.png)

### 4.6.2 è·¯ç”±ä¿¡æ¯åè®®RIP(Routing Information Protocol)

![image-20210826232746694](images/image-20210826232746694.png)

- RIPè®¤ä¸ºï¼Œå¥½çš„è·¯ç”±å°±æ˜¯â€œè·ç¦»çŸ­â€çš„è·¯ç”±ï¼Œä¹Ÿå°±æ˜¯ï¼šé€šè¿‡è·¯ç”±å™¨æ•°é‡æœ€å°‘çš„è·¯ç”±

<img src="images/image-20210826233015618.png" alt="image-20210826233015618" style="zoom:33%;" />

<img src="images/image-20210826233035355.png" alt="image-20210826233035355" style="zoom: 67%;" />

- RIPçš„ä¸‰è¦ç‚¹

![image-20210826233137394](images/image-20210826233137394.png)



#### åŸºæœ¬å·¥ä½œè¿‡ç¨‹

![image-20210827002001773](images/image-20210827002001773.png)

#### è·¯ç”±æ¡ç›®æ›´æ–°è§„åˆ™

![image-20210827002559262](images/image-20210827002559262.png)

#### â€œåæ¶ˆæ¯ä¼ æ’­å¾—æ…¢â€é—®é¢˜

![image-20210827002907878](images/image-20210827002907878.png)

![image-20210827002927913](images/image-20210827002927913.png)

![image-20210827002951521](images/image-20210827002951521.png)

#### å°ç»“

![image-20210827003140896](images/image-20210827003140896.png)





### 4.6.3 å¼€æ”¾æœ€çŸ­è·¯å¾„ä¼˜å…ˆOSPF(open shortest path first)

#### åŸºæœ¬æ¦‚å¿µ

![image-20210827141423514](images/image-20210827141423514.png)



ä»£ä»·ä¸¾ä¾‹ï¼š

![image-20210827141553839](images/image-20210827141553839.png)



- OSPF ç›¸é‚»è·¯ç”±å™¨ä¹‹é—´é€šè¿‡äº¤äº’**é—®å€™åˆ†ç»„ï¼ˆHelloï¼‰**ï¼Œå»ºç«‹å’Œç»´æŠ¤é‚»å±…å…³ç³»

![image-20210827142601127](images/image-20210827142601127.png)

- ä½¿ç”¨OSPFçš„æ¯ä¸ªè·¯ç”±å™¨éƒ½ä¼šäº§ç”Ÿ**é“¾è·¯çŠ¶æ€é€šå‘ŠLSA(Link Stats Advertisement)**ï¼Œå…¶åŒ…å«ï¼š

![image-20210827143144056](images/image-20210827143144056.png)

![image-20210827143231998](images/image-20210827143231998.png)

- ä½¿ç”¨OSPFçš„å„è·¯ç”±å™¨**åŸºäºLSDBè¿›è¡Œæœ€çŸ­è·¯å¾„ä¼˜å…ˆSPFè®¡ç®—**ï¼Œæ„å»ºå‡ºå„è‡ªåˆ°è¾¾å…¶ä»–è·¯ç”±å™¨çš„æœ€çŸ­è·¯å¾„ï¼Œå³æ„å»ºå„è‡ªçš„è·¯ç”±è¡¨

![image-20210827143754832](images/image-20210827143754832.png)

- OSPFçš„åˆ†ç»„ç±»å‹

![image-20210827143902749](images/image-20210827143902749.png)

#### åŸºæœ¬å·¥ä½œè¿‡ç¨‹

![image-20210827144132759](images/image-20210827144132759.png)

- OSPFåœ¨å¤šç‚¹æ¥å…¥ç½‘ç»œä¸­è·¯ç”±å™¨é‚»å±…å…³ç³»çš„å»ºç«‹

![image-20210827145149485](images/image-20210827145149485.png)

![image-20210827145209706](images/image-20210827145209706.png)

- ä¸ºäº†æ˜¯OSPFèƒ½å¤Ÿç”¨äºè§„æ¨¡å¾ˆå¤§çš„ç½‘ç»œï¼ŒOSPFæŠŠä¸€ä¸ªè‡ªæ²»ç³»ç»Ÿå†åˆ’åˆ†ä¸ºè‹¥å¹²ä¸ªæ›´å°çš„èŒƒå›´ï¼Œå«åšåŒºåŸŸ(Area)ã€‚æ¯ä¸ªåŒºåŸŸéƒ½æœ‰ä¸€ä¸ª32æ¯”ç‰¹çš„åŒºåŸŸæ ‡è¯†ç¬¦ï¼Œå¯ä»¥ç”¨ç‚¹åˆ†åè¿›åˆ¶è¡¨ç¤ºï¼ˆä¸»å¹²åŒºåŸŸçš„æ ‡è¯†ç¬¦å¿…é¡»ä¸º0ï¼‰ã€‚æ¯ä¸ªåŒºåŸŸæ‰€åŒ…å«çš„è·¯ç”±å™¨ä¸åº”è¶…è¿‡ä¸¤ç™¾ä¸ªã€‚

![image-20210827145715332](images/image-20210827145715332.png)

![image-20210827145813607](images/image-20210827145813607.png)

#### å°ç»“

![image-20210827145834556](images/image-20210827145834556.png)

### 4.6.4 è¾¹ç•Œç½‘å…³åè®®BGP

![image-20210827150040381](images/image-20210827150040381.png)

![image-20210827151345164](images/image-20210827151345164.png)

![image-20210827151408442](images/image-20210827151408442.png)

BGPåªèƒ½æ˜¯åŠ›æ±‚å¯»æ‰¾ä¸€æ¡èƒ½å¤Ÿåˆ°è¾¾ç›®çš„ç½‘ç»œä¸”æ¯”è¾ƒå¥½çš„è·¯ç”±ï¼ˆä¸èƒ½å…œåœˆå­ï¼‰ï¼Œè€Œå¹¶éè¦å¯»æ‰¾ä¸€æ¡æœ€ä½³è·¯ç”±ã€‚

![image-20210827152258864](images/image-20210827152258864.png)

![image-20210827152852833](images/image-20210827152852833.png)





- BGPé€‚ç”¨äºå¤šçº§ç»“æ„çš„å› ç‰¹ç½‘

![image-20210827153050345](images/image-20210827153050345.png)

- BGP-4çš„å››ç§æŠ¥æ–‡

![image-20210827153116981](images/image-20210827153116981.png)

- ç›¸å…³é¢˜ç›®

![image-20210827153337086](images/image-20210827153337086.png)

![image-20210827153351311](images/image-20210827153351311.png)

#### å°ç»“

![image-20210827153432890](images/image-20210827153432890.png)





## ğŸ’¡ 4.7 IPv4æ•°æ®æŠ¥çš„é¦–éƒ¨æ ¼å¼

![image-20210827153751160](images/image-20210827153751160.png)

- å›¾ä¸­çš„æ¯ä¸€è¡Œéƒ½ç”±32ä¸ªæ¯”ç‰¹ï¼ˆä¹Ÿå°±æ˜¯4ä¸ªå­—èŠ‚ï¼‰æ„æˆ
- æ¯ä¸ªå°æ ¼å­ç§°ä¸ºå­—æ®µã€åŸŸï¼Œæ¯ä¸ªå­—æ®µæˆ–æŸäº›å­—æ®µçš„ç»„åˆç”¨æ¥è¡¨è¾¾IPåè®®çš„ç›¸å…³åŠŸèƒ½

### ç‰ˆæœ¬

![image-20210827154057432](images/image-20210827154057432.png)

### é¦–éƒ¨é•¿åº¦

![image-20210827154117470](images/image-20210827154117470.png)

### å¯é€‰å­—æ®µ

![image-20210827154210542](images/image-20210827154210542.png)

![image-20210827154219511](images/image-20210827154219511.png)

### å¡«å……å­—æ®µ

![image-20210827154324764](images/image-20210827154324764.png)

![image-20210827154345432](images/image-20210827154345432.png)

### åŒºåˆ†æœåŠ¡

![image-20210827155051417](images/image-20210827155051417.png)

### æ€»é•¿åº¦

![image-20210827155135366](images/image-20210827155135366.png)

é¦–éƒ¨é•¿åº¦å­—æ®µå’Œæ€»é•¿åº¦å­—æ®µçš„åŒºåˆ«å’Œè”ç³»

![image-20210827155420161](images/image-20210827155420161.png)

åˆ™ï¼š

![image-20210827155445393](images/image-20210827155445393.png)



### æ ‡è¯†ã€æ ‡å¿—ã€ç‰‡åç§»

![image-20210827155720171](images/image-20210827155720171.png)

![image-20210827155924191](images/image-20210827155924191.png)

#### ğŸ’¡IPæ•°æ®æŠ¥çš„åˆ†ç‰‡

å‡è®¾ä½¿ç”¨ä»¥å¤ªç½‘ä¼ é€ä»¥ä¸‹IPæ•°æ®æŠ¥ï¼ˆä»¥å¤ªç½‘çš„æœ€å¤§ä¼ é€å•å…ƒMTUä¸º1500å­—èŠ‚ï¼‰ï¼š

![image-20210827160217172](images/image-20210827160217172.png)

åˆ™æ— æ³•å°è£…è¯¥IPæ•°æ®æŠ¥ï¼Œå› æ­¤ï¼Œéœ€è¦æŠŠè¯¥IPæ•°æ®åŒ…åˆ†ç‰‡æˆæ›´å°çš„IPæ•°æ®æŠ¥ã€‚

åˆ†ç‰‡åï¼š

![image-20210827160536962](images/image-20210827160536962.png)

å…¶ä¸­ï¼Œ**åˆ†ç‰‡2çš„ç¬¬ä¸€ä¸ªå­—èŠ‚ç¼–å·æ˜¯1400ï¼Œé‚£ä¹ˆåŸæ¥ä¸¾ä¾‹åŸæ¥çš„æ•°æ®æ˜¯1400ï¼Œç”±äºè§„å®šå•ä½æ˜¯8ä¸ªå­—èŠ‚ï¼Œæ‰€ä»¥åœ¨é™¤ä»¥8ã€‚åˆ†ç‰‡3çš„ç‰‡åç§»åŒç†ã€‚**

å‡å®šåˆ†ç‰‡2 ç»è¿‡æŸä¸ªç½‘ç»œæ—¶è¿˜éœ€è¦å†æ¬¡è¿›è¡Œåˆ†ç‰‡ï¼Œå¦‚ä¸‹æ‰€ç¤ºï¼š

![image-20210827161048600](images/image-20210827161048600.png)

### ç”Ÿå­˜æ—¶é—´

